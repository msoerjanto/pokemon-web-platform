(this["webpackJsonppokemon-web-platform"]=this["webpackJsonppokemon-web-platform"]||[]).push([[0],{74:function(e,n,t){},83:function(e,n,t){"use strict";t.r(n);var c=t(3),a=t.n(c),o=t(58),r=t.n(o),s=(t(74),t(36)),i=t(59),l=t(60),j=t(67),m=t(66),u=t(31),b=t(12),x=a.a.createContext({caught:[]}),d=t(96),h=t(2);function O(e){return e.prev||45!==e.next?Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("button",{onClick:function(){return e.onPrev(e.prev)},children:"Previous"})}):Object(h.jsx)(h.Fragment,{})}function f(e){return e.next?Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("button",{onClick:function(){return e.onNext(e.next)},children:"Next"})}):Object(h.jsx)(h.Fragment,{})}function p(e){return Object(h.jsxs)("div",{children:[Object(h.jsx)(O,{next:e.next,prev:e.prev,onPrev:e.onPrev}),Object(h.jsx)(f,{next:e.next,onNext:e.onNext})]})}var g,k,v,P=t(13),N=t(19),y=N.a.div(g||(g=Object(P.a)(["\n\n    padding: 8px\n"]))),C=N.a.strong(k||(k=Object(P.a)(["\n    text-align: center;\n"])));function S(e){return e.owned?Object(h.jsxs)(y,{className:"d-flex flex-column",children:[Object(h.jsx)("img",{src:e.image}),Object(h.jsx)(C,{children:e.name}),Object(h.jsx)("button",{className:"btn btn-primary",onClick:function(){return e.release(e.name)},children:"Release"})]}):Object(h.jsx)(u.b,{to:"pokemons/".concat(e.name),style:{textDecoration:"none"},children:Object(h.jsxs)(y,{className:"d-flex flex-column",children:[Object(h.jsx)("img",{src:e.image}),Object(h.jsx)(C,{children:e.name})]})})}var w,F=N.a.div(v||(v=Object(P.a)(["\n\n"]))),I=function(e){return function(n){return Object(h.jsx)(x.Consumer,{children:function(t){return Object(h.jsx)(e,Object(s.a)(Object(s.a)({},n),{},{context:t}))}})}},L=N.a.div(w||(w=Object(P.a)(["\n\n"])));function A(e){return Object(h.jsxs)(L,{className:"d-flex flex-column align-items-center",children:[Object(h.jsx)("h1",{children:e.caught.length}),Object(h.jsx)("h2",{children:"Owned"})]})}var T,$=t(95),D=Object($.a)(T||(T=Object(P.a)(["\n    query pokemons($limit: Int, $offset: Int) {\n        pokemons(limit: $limit, offset: $offset) {\n        count\n        next\n        previous\n        nextOffset\n        prevOffset\n        status\n        message\n        results {\n            url\n            name\n            image\n        }\n        }\n    }\n"])));var J=I((function(e){var n=Object(d.a)(D,{variables:{limit:45,offset:0}}),t=n.loading,c=n.error,a=n.data,o=n.refetch;return t?"Loading...":c?"Error! ".concat(c.message):(console.log(a),Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(h.jsx)("h1",{children:"Pokemon List Page"}),Object(h.jsx)(A,{caught:e.context.pokecaught}),Object(h.jsx)(F,{className:"d-flex flex-wrap col-md-8",children:a.pokemons.results.map((function(e){return Object(h.jsx)(S,{name:e.name,image:e.image},e.name)}))}),Object(h.jsx)(p,{prev:a.pokemons.prevOffset,next:a.pokemons.nextOffset,onNext:function(e){o({offset:e})},onPrev:function(e){o({offset:e})}})]})}))}));var M,q=I((function(e){return console.log(e.context.pokecaught),Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(h.jsx)("h1",{children:"My Pokemon Page"}),Object(h.jsx)(F,{className:"d-flex flex-wrap col-md-8",children:e.context.pokecaught.map((function(n){return Object(h.jsx)(S,{name:n.nickname,image:n.image,owned:!0,release:e.context.releasePokemon},n.nickname)}))})]})})})),E=N.a.li(M||(M=Object(P.a)(["\n    padding: 12px;\n"])));function R(e){return Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)(u.b,{to:e.to,className:"navbar-item",style:{textDecoration:"none"},children:Object(h.jsx)(E,{children:e.description})})})}var _=[{to:"/pokemons",description:"Pokemon List"},{to:"/mypokemons",description:"My Pokemons"}];function B(){return Object(h.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light d-flex justify-content-between",children:[Object(h.jsx)("div",{className:"navbar-brand d-flex align-items-center col-md-4",children:Object(h.jsx)("strong",{children:"Pokemon Web Platform"})}),Object(h.jsx)("ul",{className:"navbar-nav",children:_.map((function(e){return Object(h.jsx)(R,{to:e.to,description:e.description})}))})]})}var G,H,W=t(35),z=N.a.button(G||(G=Object(P.a)([""]))),K=N.a.div(H||(H=Object(P.a)([""])));var Q,U=function(e){var n=Object(c.useState)(e.pokemon.name),t=Object(W.a)(n,2),a=t[0],o=t[1];if(e.catchingPokemon){if(e.loading)return Object(h.jsx)(h.Fragment,{children:"Loading"});if(e.pokemonCaught){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("h3",{children:["Gotcha! ",e.pokemon.name," was caught!"]}),Object(h.jsx)("form",{onSubmit:function(n){n.preventDefault(),e.submitPokemon({nickname:a,name:e.pokemon.name,image:e.pokemon.sprites.front_default}),o("")},children:Object(h.jsxs)(K,{class:"form-group",children:[Object(h.jsx)("label",{children:"Nickname"}),Object(h.jsx)("input",{type:"text",className:"form-control",value:a,onChange:function(e){return o(e.target.value)},placeholder:"Enter Pokemon nickname"}),Object(h.jsx)("input",{type:"submit",value:"Add to my Pokemon List"})]})})]})}return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h3",{children:"Oh, no! The Pokemon broke free!"}),Object(h.jsx)(z,{className:"btn btn-secondary btn-lg",onClick:function(){return e.catchPokemon(e.pokemon)},children:"CATCH AGAIN"})]})}return Object(h.jsx)(z,{className:"btn btn-secondary btn-lg",onClick:function(){return e.catchPokemon(e.pokemon)},children:"CATCH"})},V=Object($.a)(Q||(Q=Object(P.a)(["\n    query pokemon($name: String!) {\n        pokemon(name: $name) {\n            name\n    \t\tsprites {\n                front_default\n            }\n        }\n    }\n"])));var X=I((function(e){var n={name:Object(b.f)().name},t=Object(d.a)(V,{variables:n}),a=t.loading,o=t.error,r=t.data,s=Object(c.useState)(!1),i=Object(W.a)(s,2),l=i[0],j=i[1],m=Object(c.useState)(!1),u=Object(W.a)(m,2),x=u[0],O=u[1],f=Object(c.useState)(!1),p=Object(W.a)(f,2),g=p[0],k=p[1];return a?"Loading...":o?"Error! ".concat(o.message):Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"d-flex flex-column justify-content-center",children:[Object(h.jsx)("h1",{children:r.pokemon.name}),Object(h.jsx)("img",{width:"200px",className:"align-self-center",src:r.pokemon.sprites.front_default}),Object(h.jsx)(U,{loading:g,catchingPokemon:l,pokemon:r.pokemon,catchPokemon:function(){k(!0),j(!0),Math.random()>=.5?O(!0):O(!1),setTimeout((function(){return k(!1)}),1500)},pokemonCaught:x,submitPokemon:function(n){j(!1),e.context.catchPokemon(n)}})]})})})),Y=function(e){Object(j.a)(t,e);var n=Object(m.a)(t);function t(e){var c;return Object(i.a)(this,t),(c=n.call(this,e)).catchPokemon=function(e){var n=c.state.pokecaught;n.push(e),localStorage.setItem("pokecaught",JSON.stringify(n)),c.setState({pokecaught:n})},c.releasePokemon=function(e){var n=c.state.pokecaught.filter((function(n){return n.nickname!=e}));localStorage.setItem("pokecaught",JSON.stringify(n)),c.setState({pokecaught:n})},c.state={pokecaught:[]},c.routerRef=a.a.createRef(),c}return Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("pokecaught");e=e?JSON.parse(e):[],this.setState({pokecaught:e})}},{key:"render",value:function(){return Object(h.jsx)(x.Provider,{value:Object(s.a)(Object(s.a)({},this.state),{},{catchPokemon:this.catchPokemon,releasePokemon:this.releasePokemon}),children:Object(h.jsx)(u.a,{ref:this.routerRef,children:Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)("header",{children:Object(h.jsx)(B,{})}),Object(h.jsx)("div",{className:"d-flex justify-content-center",children:Object(h.jsxs)(b.c,{children:[Object(h.jsx)(b.a,{exact:!0,path:"/",component:J}),Object(h.jsx)(b.a,{exact:!0,path:"/mypokemons",component:q}),Object(h.jsx)(b.a,{exact:!0,path:"/pokemons",component:J}),Object(h.jsx)(b.a,{path:"/pokemons/:name",component:X})]})})]})})})}}]),t}(a.a.Component),Z=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,98)).then((function(n){var t=n.getCLS,c=n.getFID,a=n.getFCP,o=n.getLCP,r=n.getTTFB;t(e),c(e),a(e),o(e),r(e)}))},ee=t(93),ne=t(94),te=new ee.a({uri:"https://graphql-pokeapi.vercel.app/api/graphql",cache:new ne.a}),ce=t(92),ae=(t(82),te);r.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(ce.a,{client:ae,children:Object(h.jsx)(Y,{})})}),document.getElementById("root")),Z()}},[[83,1,2]]]);
//# sourceMappingURL=main.d5fbdde9.chunk.js.map